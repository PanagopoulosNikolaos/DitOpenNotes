<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game - Limits of Functions</title>
    <!-- MathJax Configuration -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)'], ['$', '$']],
                displayMath: [['\\[', '\\]'], ['$$', '$$']]
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        /* --- Dark Mode Theme --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #363530; /* Dark grey page background */
            color: #f0f0f0; /* Light text for readability */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .quiz-container {
            background-color: #857c7c; /* Lighter muted grey for container */
            border-radius: 12px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 800px;
            overflow: hidden;
        }

        .quiz-header {
            /* Vibrant blue to purple gradient header */
            background: linear-gradient(45deg, #4f46e5, #7c3aed);
            color: white;
            padding: 24px;
            text-align: center;
        }

        .quiz-header h1 {
            margin: 0;
            font-size: 1.8em;
        }

        .quiz-body {
            padding: 24px;
        }

        #question-container {
            margin-bottom: 20px;
        }

        #question-text {
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 20px;
            line-height: 1.5;
            color: #ffffff;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }

        .option-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            text-align: left;
            background-color: #857c7c; /* Match container background */
            color: #f0f0f0;
            border: 1px solid #6b6666; /* Darker border */
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }

        .option-btn:hover:not(:disabled) {
            background-color: #9c9494;
            border-color: #4f46e5;
        }
        
        /* --- Button Feedback Colors --- */
        .option-btn.correct {
            background-color: #10b981 !important; /* Bright green */
            border-color: #10b981 !important;
            color: white !important;
        }

        .option-btn.incorrect {
            background-color: #ef4444 !important; /* Bright red */
            border-color: #ef4444 !important;
            color: white !important;
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }
        
        #explanation {
            display: none;
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            line-height: 1.6;
            background-color: rgba(0,0,0,0.1); /* Subtle background for feedback */
            border-left: 5px solid #4f46e5; /* Accent border */
        }
        
        .quiz-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            background-color: #857c7c; /* Match container */
            border-top: 1px solid #6b6666; /* Darker separator */
        }

        #progress-text {
            font-size: 1em;
            color: #35373b; /* Dark grey for secondary text */
            font-weight: bold;
        }
        
        /* --- Interactive Elements --- */
        #next-btn, #restart-btn {
            padding: 12px 24px;
            font-size: 1em;
            font-weight: bold;
            color: white;
            background-color: #4f46e5; /* Vibrant blue */
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }

        #next-btn:hover, #restart-btn:hover {
            background-color: #4338ca;
            transform: translateY(-2px);
        }

        #results-container {
            text-align: center;
            padding: 40px 24px;
        }

        #results-container h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #f0f0f0;
        }

        #score-text {
            font-size: 1.5em;
            margin-bottom: 30px;
            color: #35373b; /* Dark grey for secondary text */
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1>ðŸ“ˆ Quiz Game: Limits of Functions</h1>
        </div>
        <div class="quiz-body">
            <div id="question-container">
                <p id="question-text"></p>
                <div id="options-grid" class="options-grid"></div>
            </div>
            <div id="feedback-container">
                <div id="explanation"></div>
            </div>
            <div id="results-container" style="display: none;">
                <h2>Quiz Complete!</h2>
                <p id="score-text"></p>
                <button id="restart-btn">Restart Quiz</button>
            </div>
        </div>
        <div class="quiz-footer">
            <p id="progress-text"></p>
            <button id="next-btn" style="display: none;">Next Question</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "What is the intuitive meaning of \\(\\lim_{x \\to x_0} f(x) = L\\)?",
                options: [
                    "The value of the function at \\(x_0\\) is \\(L\\).",
                    "The values of \\(f(x)\\) get closer and closer to \\(L\\) as \\(x\\) gets closer and closer to \\(x_0\\).",
                    "The function is defined at \\(x_0\\).",
                    "The function is continuous at \\(x_0\\)."
                ],
                correct: 1,
                explanation: "The limit describes the behavior of the function *near* a point, not necessarily *at* the point itself. It means \\(f(x)\\) approaches \\(L\\) as \\(x\\) approaches \\(x_0\\) from any direction."
            },
            {
                question: "For the limit \\(\\lim_{x \\to x_0} f(x)\\) to exist and be equal to \\(L\\), what must be true about the one-sided limits?",
                options: [
                    "Both one-sided limits must be equal to \\(L\\).",
                    "The left-hand limit must be less than the right-hand limit.",
                    "Only the right-hand limit needs to exist.",
                    "The one-sided limits must be different."
                ],
                correct: 0,
                explanation: "A two-sided limit exists if and only if both the left-hand limit and the right-hand limit exist and are equal. That is, \\(\\lim_{x \\to x_0^-} f(x) = \\lim_{x \\to x_0^+} f(x) = L\\)."
            },
            {
                question: "Calculate the limit: \\(\\lim_{x \\to 2} \\frac{x^2 - 4}{x - 2}\\).",
                options: [
                    "0",
                    "Undefined",
                    "4",
                    "2"
                ],
                correct: 2,
                explanation: "This is an indeterminate form \\(\\frac{0}{0}\\). We can factor the numerator: \\(\\frac{(x-2)(x+2)}{x-2}\\). For \\(x \\neq 2\\), this simplifies to \\(x+2\\). So, \\(\\lim_{x \\to 2} (x+2) = 2+2 = 4\\)."
            },
            {
                question: "What is the value of \\(\\lim_{x \\to \\infty} \\frac{1}{x}\\)?",
                options: [
                    "\\(\\infty\\)",
                    "1",
                    "0",
                    "Does not exist"
                ],
                correct: 2,
                explanation: "As \\(x\\) becomes arbitrarily large, the value of \\(\\frac{1}{x}\\) becomes arbitrarily close to 0."
            },
            {
                question: "According to the Squeeze Theorem, if \\(g(x) \\le f(x) \\le h(x)\\) for all \\(x\\) near \\(c\\), and \\(\\lim_{x \\to c} g(x) = \\lim_{x \\to c} h(x) = L\\), what is \\(\\lim_{x \\to c} f(x)\\)?",
                options: [
                    "\\(L\\)",
                    "0",
                    "\\(\\infty\\)",
                    "Cannot be determined"
                ],
                correct: 0,
                explanation: "The Squeeze (or Sandwich) Theorem states that if a function \\(f(x)\\) is 'squeezed' between two other functions, \\(g(x)\\) and \\(h(x)\\), that both approach the same limit \\(L\\), then \\(f(x)\\) must also approach that limit \\(L\\)."
            },
            {
                question: "Find the limit: \\(\\lim_{x \\to 0} x^2 \\sin(\\frac{1}{x})\\).",
                options: [
                    "1",
                    "\\(\\infty\\)",
                    "Does not exist",
                    "0"
                ],
                correct: 3,
                explanation: "We know that \\(-1 \\le \\sin(\\frac{1}{x}) \\le 1\\). Multiplying by \\(x^2\\) (which is non-negative), we get \\(-x^2 \\le x^2 \\sin(\\frac{1}{x}) \\le x^2\\). Since \\(\\lim_{x \\to 0} (-x^2) = 0\\) and \\(\\lim_{x \\to 0} (x^2) = 0\\), by the Squeeze Theorem, the limit is 0."
            },
            {
                question: "What is the definition of a vertical asymptote at \\(x=c\\)?",
                options: [
                    "\\(\\lim_{x \\to c} f(x) = 0\\)",
                    "The function is not defined at \\(x=c\\).",
                    "\\(\\lim_{x \\to c^-} f(x) = \\pm\\infty\\) or \\(\\lim_{x \\to c^+} f(x) = \\pm\\infty\\)",
                    "\\(\\lim_{x \\to \\infty} f(x) = c\\)"
                ],
                correct: 2,
                explanation: "A vertical line \\(x=c\\) is a vertical asymptote if the function's value grows or shrinks without bound (approaches \\(\\pm\\infty\\)) as \\(x\\) approaches \\(c\\) from the left or the right."
            },
            {
                question: "Find the limit: \\(\\lim_{x \\to 3^+} \\frac{1}{x-3}\\).",
                options: [
                    "0",
                    "\\(+\\infty\\)",
                    "\\(-\\infty\\)",
                    "1"
                ],
                correct: 1,
                explanation: "As \\(x\\) approaches 3 from the right (e.g., 3.1, 3.01, 3.001), the denominator \\(x-3\\) is a small positive number. A constant divided by a small positive number approaches \\(+\\infty\\)."
            },
            {
                question: "Find the limit: \\(\\lim_{x \\to \\infty} (5x^3 - 2x^2 + 1)\\).",
                options: [
                    "5",
                    "1",
                    "\\(+\\infty\\)",
                    "\\(-\\infty\\)"
                ],
                correct: 2,
                explanation: "For a polynomial limit at infinity, the behavior is determined by the term with the highest power. Here, the term is \\(5x^3\\). As \\(x \\to \\infty\\), \\(x^3\\) goes to \\(\\infty\\), so the limit is \\(+\\infty\\)."
            },
            {
                question: "Calculate \\(\\lim_{x \\to \\infty} \\frac{4x^2 - 5x}{2x^2 + 1}\\).",
                options: [
                    "0",
                    "\\(\\infty\\)",
                    "2",
                    "4/2 = 2"
                ],
                correct: 3,
                explanation: "For a rational function at infinity, we compare the degrees of the numerator and denominator. Since the degrees are equal (both are 2), the limit is the ratio of the leading coefficients: \\(\\frac{4}{2} = 2\\)."
            },
            {
                question: "Calculate \\(\\lim_{x \\to \\infty} \\frac{x+1}{x^2+3}\\).",
                options: [
                    "1",
                    "0",
                    "\\(\\infty\\)",
                    "1/3"
                ],
                correct: 1,
                explanation: "The degree of the numerator (1) is less than the degree of the denominator (2). In this case, the limit at infinity is always 0."
            },
            {
                question: "Calculate \\(\\lim_{x \\to -\\infty} \\frac{x^3+1}{x^2+1}\\).",
                options: [
                    "1",
                    "0",
                    "\\(+\\infty\\)",
                    "\\(-\\infty\\)"
                ],
                correct: 3,
                explanation: "The degree of the numerator (3) is greater than the degree of the denominator (2). The limit is infinite. To find the sign, we look at the ratio of leading terms, \\(\\frac{x^3}{x^2} = x\\). As \\(x \\to -\\infty\\), the limit is \\(-\\infty\\)."
            },
            {
                question: "What is the value of the important limit \\(\\lim_{x \\to 0} \\frac{\\sin x}{x}\\)?",
                options: [
                    "0",
                    "1",
                    "\\(\\infty\\)",
                    "Does not exist"
                ],
                correct: 1,
                explanation: "This is a fundamental trigonometric limit. Even though it results in the indeterminate form \\(\\frac{0}{0}\\), it can be proven (often with the Squeeze Theorem) that the limit is 1."
            },
            {
                question: "If \\(\\lim_{x \\to 5} f(x) = 10\\) and \\(\\lim_{x \\to 5} g(x) = 2\\), what is \\(\\lim_{x \\to 5} \\frac{f(x)}{g(x)}\\)?",
                options: [
                    "5",
                    "8",
                    "20",
                    "12"
                ],
                correct: 0,
                explanation: "The limit of a quotient is the quotient of the limits, provided the limit of the denominator is not zero. So, the limit is \\(\\frac{10}{2} = 5\\)."
            },
            {
                question: "Find the limit: \\(\\lim_{x \\to 1} \\frac{\\sqrt{x}-1}{x-1}\\).",
                options: [
                    "1",
                    "0",
                    "2",
                    "1/2"
                ],
                correct: 3,
                explanation: "This is a \\(\\frac{0}{0}\\) form. Multiply the numerator and denominator by the conjugate of the numerator, \\(\\sqrt{x}+1\\). This gives \\(\\lim_{x \\to 1} \\frac{(x-1)}{(x-1)(\\sqrt{x}+1)} = \\lim_{x \\to 1} \\frac{1}{\\sqrt{x}+1} = \\frac{1}{\\sqrt{1}+1} = \\frac{1}{2}\\)."
            },
            {
                question: "What is the formal epsilon-delta definition of \\(\\lim_{x \\to x_0} f(x) = L\\)?",
                options: [
                    "For some \\(\\epsilon > 0\\), there exists a \\(\\delta > 0\\) such that if \\(|x-x_0| < \\delta\\), then \\(|f(x)-L| < \\epsilon\\).",
                    "For every \\(\\epsilon > 0\\), there exists a \\(\\delta > 0\\) such that if \\(0 < |x-x_0| < \\delta\\), then \\(|f(x)-L| < \\epsilon\\).",
                    "For every \\(\\delta > 0\\), there exists an \\(\\epsilon > 0\\) such that if \\(0 < |x-x_0| < \\delta\\), then \\(|f(x)-L| < \\epsilon\\).",
                    "For some \\(\\delta > 0\\), there exists an \\(\\epsilon > 0\\) such that if \\(|f(x)-L| < \\epsilon\\), then \\(|x-x_0| < \\delta\\)."
                ],
                correct: 1,
                explanation: "The formal definition states that for any small positive number \\(\\epsilon\\) (the tolerance around L), you can find a small positive number \\(\\delta\\) (the tolerance around \\(x_0\\)) such that any \\(x\\) within \\(\\delta\\) of \\(x_0\\) (but not equal to \\(x_0\\)) will have its function value \\(f(x)\\) within \\(\\epsilon\\) of \\(L\\)."
            },
            {
                question: "Find the vertical asymptotes of the function \\(f(x) = \\frac{x}{x^2 - 9}\\).",
                options: [
                    "\\(x=0\\)",
                    "\\(x=3\\)",
                    "\\(x=-3\\)",
                    "\\(x=3\\) and \\(x=-3\\)"
                ],
                correct: 3,
                explanation: "Vertical asymptotes occur where the denominator is zero and the numerator is non-zero. The denominator \\(x^2 - 9 = (x-3)(x+3)\\) is zero at \\(x=3\\) and \\(x=-3\\). The numerator is not zero at these points, so both are vertical asymptotes."
            },
            {
                question: "What is the limit \\(\\lim_{x \\to 0} \\cos(x)\\)?",
                options: [
                    "0",
                    "1",
                    "-1",
                    "Does not exist"
                ],
                correct: 1,
                explanation: "The cosine function is continuous everywhere. Therefore, the limit at any point is simply the function's value at that point. \\(\\cos(0) = 1\\)."
            },
            {
                question: "A horizontal line \\(y=L\\) is a horizontal asymptote of \\(f(x)\\) if...",
                options: [
                    "\\(\\lim_{x \\to L} f(x) = \\infty\\)",
                    "\\(\\lim_{x \\to \\infty} f(x) = L\\) or \\(\\lim_{x \\to -\\infty} f(x) = L\\)",
                    "\\(f(L)\\) is undefined",
                    "The function crosses the line \\(y=L\\)."
                ],
                correct: 1,
                explanation: "A horizontal asymptote describes the end behavior of a function. It's the value the function approaches as \\(x\\) goes to positive or negative infinity."
            },
            {
                question: "Evaluate \\(\\lim_{x \\to -\\infty} e^x\\).",
                options: [
                    "\\(-\\infty\\)",
                    "0",
                    "1",
                    "\\(+\\infty\\)"
                ],
                correct: 1,
                explanation: "As \\(x\\) becomes a large negative number (e.g., -10, -100), \\(e^x\\) becomes \\(e^{-10} = \\frac{1}{e^{10}}\\), which is a very small positive number. The function approaches 0."
            }
        ];

        const questionContainer = document.getElementById('question-container');
        const questionText = document.getElementById('question-text');
        const optionsGrid = document.getElementById('options-grid');
        const explanation = document.getElementById('explanation');
        const nextBtn = document.getElementById('next-btn');
        const progressText = document.getElementById('progress-text');
        const resultsContainer = document.getElementById('results-container');
        const scoreText = document.getElementById('score-text');
        const restartBtn = document.getElementById('restart-btn');
        const quizBody = document.querySelector('.quiz-body');
        const quizFooter = document.querySelector('.quiz-footer');

        let currentQuestionIndex = 0;
        let score = 0;

        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            resultsContainer.style.display = 'none';
            questionContainer.style.display = 'block';
            quizFooter.style.display = 'flex';
            nextBtn.style.display = 'none';
            showQuestion();
        }

        function showQuestion() {
            resetState();
            const question = questions[currentQuestionIndex];
            questionText.innerHTML = question.question;
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.innerHTML = option;
                button.classList.add('option-btn');
                button.dataset.index = index;
                button.addEventListener('click', selectAnswer);
                optionsGrid.appendChild(button);
            });

            progressText.innerText = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
            MathJax.typesetPromise();
        }

        function resetState() {
            while (optionsGrid.firstChild) {
                optionsGrid.removeChild(optionsGrid.firstChild);
            }
            explanation.style.display = 'none';
            nextBtn.style.display = 'none';
        }

        function selectAnswer(e) {
            const selectedBtn = e.target.closest('.option-btn');
            if (!selectedBtn) return;

            const correctIndex = questions[currentQuestionIndex].correct;
            const selectedIndex = parseInt(selectedBtn.dataset.index);

            if (selectedIndex === correctIndex) {
                score++;
            }

            Array.from(optionsGrid.children).forEach(button => {
                const buttonIndex = parseInt(button.dataset.index);
                if (buttonIndex === correctIndex) {
                    button.classList.add('correct');
                } else if (buttonIndex === selectedIndex) {
                    button.classList.add('incorrect');
                }
                button.disabled = true;
            });

            explanation.innerHTML = "<b>Explanation:</b> " + questions[currentQuestionIndex].explanation;
            explanation.style.display = 'block';
            MathJax.typesetPromise();

            if (questions.length > currentQuestionIndex + 1) {
                nextBtn.style.display = 'block';
            } else {
                // Use a short delay before showing results to allow user to see feedback
                setTimeout(showResults, 1500);
            }
        }

        function showResults() {
            questionContainer.style.display = 'none';
            quizFooter.style.display = 'none';
            explanation.style.display = 'none';
            resultsContainer.style.display = 'block';
            const scorePercent = Math.round((score / questions.length) * 100);
            scoreText.innerText = `You scored ${score} out of ${questions.length} (${scorePercent}%)`;
        }

        function handleNextButton() {
            currentQuestionIndex++;
            showQuestion();
        }

        nextBtn.addEventListener('click', handleNextButton);
        restartBtn.addEventListener('click', startQuiz);

        startQuiz();
    </script>
</body>
</html>