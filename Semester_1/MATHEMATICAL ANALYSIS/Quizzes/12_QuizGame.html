<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game - Definite Integrals</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        #quiz-container {
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 700px;
            padding: 30px;
            box-sizing: border-box;
        }
        #question-container {
            margin-bottom: 20px;
        }
        #question-text {
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.4;
        }
        .option-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
            font-size: 1em;
            text-align: left;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }
        .option-btn:hover {
            background-color: #f0f0f0;
            border-color: #ccc;
        }
        .option-btn.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        .option-btn.incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        #feedback-container {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1em;
            display: none;
            border: 1px solid transparent;
        }
        #feedback-container.correct {
            background-color: #e2f0e5;
            border-color: #c3e6cb;
            color: #155724;
            display: block;
        }
        #feedback-container.incorrect {
            background-color: #fbe4e6;
            border-color: #f5c6cb;
            color: #721c24;
            display: block;
        }
        #controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 25px;
        }
        #next-btn, #restart-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            background-color: #007bff;
            color: white;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        #next-btn:hover, #restart-btn:hover {
            background-color: #0056b3;
        }
        #restart-btn {
            background-color: #6c757d;
            display: none;
        }
        #progress-text {
            font-size: 1em;
            font-weight: 500;
        }
        #score-container {
            text-align: center;
            display: none;
        }
        #score-text {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

<div id="quiz-container">
    <div id="question-container">
        <div id="question-text"></div>
        <div id="options-container"></div>
    </div>
    <div id="feedback-container"></div>
    <div id="controls">
        <span id="progress-text"></span>
        <button id="next-btn">Next</button>
    </div>
    <div id="score-container">
        <div id="score-text"></div>
        <button id="restart-btn">Restart Quiz</button>
    </div>
</div>

<script>
    const questions = [
        {
            question: "What does the definite integral $\\int_a^b f(x) \\,dx$ represent geometrically if $f(x) \\ge 0$?",
            options: [
                "The slope of the function at $x=b$.",
                "The length of the curve from $a$ to $b$.",
                "The net area between the curve $f(x)$ and the x-axis from $x=a$ to $x=b$.",
                "The average value of the function on $[a, b]$."
            ],
            correct: 2,
            explanation: "The definite integral calculates the net area. If $f(x)$ is positive, this is the area under the curve. If $f(x)$ goes below the x-axis, that area is subtracted."
        },
        {
            question: "What is a Riemann Sum?",
            options: [
                "The exact area under a curve.",
                "An approximation of the area under a curve using a sum of rectangles.",
                "The derivative of the area function.",
                "A method for finding antiderivatives."
            ],
            correct: 1,
            explanation: "A Riemann Sum, $\\sum_{k=1}^n f(x_k^*) \\Delta x$, approximates the area under a curve by summing the areas of a finite number of rectangles whose heights are determined by the function's value."
        },
        {
            question: "The definite integral is defined as:",
            options: [
                "The sum of a finite number of rectangles.",
                "The antiderivative evaluated at the upper limit.",
                "The limit of a Riemann Sum as the number of rectangles approaches infinity.",
                "The difference between the function's values at the limits of integration."
            ],
            correct: 2,
            explanation: "The precise definition of the definite integral is $\\int_a^b f(x) \\,dx = \\lim_{n \\to \\infty} \\sum_{k=1}^n f(x_k^*) \\Delta x$. It turns the approximation of a Riemann sum into an exact value."
        },
        {
            question: "According to the Fundamental Theorem of Calculus, if $F'(x) = f(x)$, what is $\\int_a^b f(x) \\,dx$?",
            options: [
                "$F(b)$",
                "$F(a) - F(b)$",
                "$F(b) - F(a)$",
                "$F'(b) - F'(a)$"
            ],
            correct: 2,
            explanation: "The Fundamental Theorem of Calculus, Part 2, provides a powerful method to calculate definite integrals. It states that the integral is the difference in the antiderivative's values at the limits of integration."
        },
        {
            question: "What is the value of $\\int_a^a f(x) \\,dx$?",
            options: [
                "0",
                "1",
                "$f(a)$",
                "It cannot be determined."
            ],
            correct: 0,
            explanation: "The integral from a point to itself represents an area with zero width. Therefore, the area is zero. This can also be seen from the Fundamental Theorem: $F(a) - F(a) = 0$."
        },
        {
            question: "If $\\int_a^b f(x) \\,dx = 5$, what is the value of $\\int_b^a f(x) \\,dx$?",
            options: [
                "5",
                "-5",
                "1/5",
                "0"
            ],
            correct: 1,
            explanation: "Reversing the limits of integration negates the value of the definite integral. This is a standard property: $\\int_b^a f(x) \\,dx = -\\int_a^b f(x) \\,dx$."
        },
        {
            question: "Calculate the definite integral $\\int_0^2 3x^2 \\,dx$.",
            options: [
                "6",
                "8",
                "12",
                "9"
            ],
            correct: 1,
            explanation: "First, find the antiderivative of $3x^2$, which is $x^3$. Then, evaluate it at the limits: $F(b) - F(a) = (2)^3 - (0)^3 = 8 - 0 = 8$."
        },
        {
            question: "What is the value of $\\int_0^\\pi \\cos(x) \\,dx$?",
            options: [
                "0",
                "1",
                "2",
                "$\\pi$"
            ],
            correct: 0,
            explanation: "The antiderivative of $\\cos(x)$ is $\\sin(x)$. Evaluating at the limits gives $\\sin(\\pi) - \\sin(0) = 0 - 0 = 0$. Geometrically, the positive area from 0 to $\\pi/2$ is cancelled out by the negative area from $\\pi/2$ to $\\pi$."
        },
        {
            question: "Given $\\int_1^3 f(x)dx = 4$ and $\\int_3^5 f(x)dx = 2$, what is $\\int_1^5 f(x)dx$?",
            options: [
                "2",
                "6",
                "8",
                "Cannot be determined."
            ],
            correct: 1,
            explanation: "This uses the additivity property of integrals: $\\int_a^c f(x)dx = \\int_a^b f(x)dx + \\int_b^c f(x)dx$. So, $\\int_1^5 f(x)dx = \\int_1^3 f(x)dx + \\int_3^5 f(x)dx = 4 + 2 = 6$."
        },
        {
            question: "Calculate $\\int_1^e \\frac{1}{x} \\,dx$.",
            options: [
                "0",
                "1",
                "$e$",
                "$e-1$"
            ],
            correct: 1,
            explanation: "The antiderivative of $1/x$ is $\\ln|x|$. Evaluating from 1 to $e$ gives $\\ln(e) - \\ln(1) = 1 - 0 = 1$."
        },
        {
            question: "In the expression $\\int_a^b f(x) \\,dx$, what is $x$ called?",
            options: [
                "The integrand",
                "The limit of integration",
                "The variable of integration",
                "The constant of integration"
            ],
            correct: 2,
            explanation: "The variable $x$ is a 'dummy variable' or 'variable of integration'. The value of the definite integral does not depend on it. For example, $\\int_a^b f(x) \\,dx = \\int_a^b f(t) \\,dt$."
        },
        {
            question: "If $f(x) \\ge g(x)$ for all $x$ in $[a, b]$, which of the following is true?",
            options: [
                "$\\int_a^b f(x) \\,dx \\le \\int_a^b g(x) \\,dx$",
                "$\\int_a^b f(x) \\,dx \\ge \\int_a^b g(x) \\,dx$",
                "$\\int_a^b f(x) \\,dx = \\int_a^b g(x) \\,dx$",
                "Their integrals are unrelated."
            ],
            correct: 1,
            explanation: "This is the comparison property of integrals. If one function is always greater than or equal to another over an interval, its integral over that interval will also be greater than or equal to the other's integral."
        },
        {
            question: "Calculate $\\int_0^1 e^x \\,dx$.",
            options: [
                "$e$",
                "$e-1$",
                "1",
                "$e+1$"
            ],
            correct: 1,
            explanation: "The antiderivative of $e^x$ is $e^x$. Evaluating at the limits gives $e^1 - e^0 = e - 1$."
        },
        {
            question: "What does the notation $[F(x)]_a^b$ represent?",
            options: [
                "$F(b) \\cdot F(a)$",
                "$F(a) - F(b)$",
                "$F(x) + b - a$",
                "$F(b) - F(a)$"
            ],
            correct: 3,
            explanation: "This is a standard shorthand notation used with the Fundamental Theorem of Calculus. It means to evaluate the function $F(x)$ at the upper limit $b$ and subtract its value at the lower limit $a$."
        },
        {
            question: "Find the area of the region under the curve $y=x$ from $x=0$ to $x=4$.",
            options: [
                "4",
                "16",
                "2",
                "8"
            ],
            correct: 3,
            explanation: "We need to calculate $\\int_0^4 x \\,dx$. The antiderivative is $\\frac{1}{2}x^2$. Evaluating gives $\\frac{1}{2}(4)^2 - \\frac{1}{2}(0)^2 = \\frac{16}{2} - 0 = 8$. This is also the area of a triangle with base 4 and height 4."
        },
        {
            question: "What is the value of $\\int_{-1}^1 x^3 \\,dx$?",
            options: [
                "0",
                "1/2",
                "1/4",
                "2"
            ],
            correct: 0,
            explanation: "The function $f(x)=x^3$ is an odd function. The integral of an odd function over a symmetric interval $[-a, a]$ is always zero. The negative area from -1 to 0 cancels the positive area from 0 to 1. Calculation: $[\\frac{x^4}{4}]_{-1}^1 = \\frac{1^4}{4} - \\frac{(-1)^4}{4} = \\frac{1}{4} - \\frac{1}{4} = 0$."
        },
        {
            question: "The expression $\\lim_{n \\to \\infty} \\sum_{k=1}^n (a + k\\Delta x)^2 \\Delta x$ where $\\Delta x = \\frac{b-a}{n}$ is the definite integral for:",
            options: [
                "$\\int_a^b x \\,dx$",
                "$\\int_a^b x^2 \\,dx$",
                "$\\int_0^b x \\,dx$",
                "$\\int_a^b 2x \\,dx$"
            ],
            correct: 1,
            explanation: "This is the Riemann sum definition for the function $f(x) = x^2$ over the interval $[a, b]$. The term $(a + k\\Delta x)$ represents the x-coordinate $x_k$ within the interval, and it is being squared."
        },
        {
            question: "If $\\int_0^5 f(x)dx = 10$ and $\\int_0^5 g(x)dx = -3$, what is $\\int_0^5 (2f(x) + 3g(x))dx$?",
            options: [
                "11",
                "29",
                "17",
                "21"
            ],
            correct: 0,
            explanation: "Using the linearity property: $\\int_0^5 (2f(x) + 3g(x))dx = 2\\int_0^5 f(x)dx + 3\\int_0^5 g(x)dx = 2(10) + 3(-3) = 20 - 9 = 11$."
        },
        {
            question: "The definite integral $\\int_a^b f(x)dx$ results in:",
            options: [
                "A function of x.",
                "A family of functions.",
                "A single numerical value.",
                "A function of a and b."
            ],
            correct: 2,
            explanation: "Unlike the indefinite integral, which is a family of functions (e.g., $x^2+C$), the definite integral evaluates to a specific number representing the net area."
        },
        {
            question: "Calculate $\\int_1^2 \\frac{x^2+1}{x} \\,dx$.",
            options: [
                "$\\frac{3}{2} + \\ln(2)$",
                "$2 + \\ln(2)$",
                "$\\frac{1}{2} + \\ln(2)$",
                "$\\frac{3}{2}$"
            ],
            correct: 0,
            explanation: "First, simplify the integrand: $\\frac{x^2+1}{x} = x + \\frac{1}{x}$. The antiderivative is $\\frac{1}{2}x^2 + \\ln|x|$. Evaluate at the limits: $(\\frac{1}{2}(2)^2 + \\ln(2)) - (\\frac{1}{2}(1)^2 + \\ln(1)) = (2 + \\ln(2)) - (\\frac{1}{2} + 0) = \\frac{3}{2} + \\ln(2)$."
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    let answered = false;

    const questionTextElem = document.getElementById('question-text');
    const optionsContainerElem = document.getElementById('options-container');
    const feedbackContainerElem = document.getElementById('feedback-container');
    const nextBtn = document.getElementById('next-btn');
    const restartBtn = document.getElementById('restart-btn');
    const progressTextElem = document.getElementById('progress-text');
    const scoreContainerElem = document.getElementById('score-container');
    const scoreTextElem = document.getElementById('score-text');
    const questionContainerElem = document.getElementById('question-container');
    const controlsElem = document.getElementById('controls');

    function loadQuestion() {
        answered = false;
        feedbackContainerElem.style.display = 'none';
        optionsContainerElem.innerHTML = '';
        
        const question = questions[currentQuestionIndex];
        questionTextElem.innerHTML = question.question;
        
        question.options.forEach((option, index) => {
            const button = document.createElement('button');
            button.innerHTML = option;
            button.classList.add('option-btn');
            button.addEventListener('click', () => selectAnswer(index, button));
            optionsContainerElem.appendChild(button);
        });

        progressTextElem.innerText = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
        MathJax.typesetPromise();
    }

    function selectAnswer(selectedIndex, button) {
        if (answered) return;
        answered = true;

        const question = questions[currentQuestionIndex];
        const correctIndex = question.correct;

        if (selectedIndex === correctIndex) {
            score++;
            button.classList.add('correct');
            feedbackContainerElem.innerHTML = `<strong>Correct!</strong><br>${question.explanation}`;
            feedbackContainerElem.className = 'feedback-container correct';
        } else {
            button.classList.add('incorrect');
            optionsContainerElem.children[correctIndex].classList.add('correct');
            feedbackContainerElem.innerHTML = `<strong>Incorrect.</strong><br>${question.explanation}`;
            feedbackContainerElem.className = 'feedback-container incorrect';
        }
    }

    function showScore() {
        questionContainerElem.style.display = 'none';
        controlsElem.style.display = 'none';
        feedbackContainerElem.style.display = 'none';
        scoreContainerElem.style.display = 'block';
        restartBtn.style.display = 'block';
        scoreTextElem.innerText = `Your Score: ${score} out of ${questions.length}`;
    }

    nextBtn.addEventListener('click', () => {
        if (!answered && currentQuestionIndex < questions.length) {
            alert("Please select an answer before proceeding.");
            return;
        }
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            loadQuestion();
        } else {
            showScore();
        }
    });

    restartBtn.addEventListener('click', () => {
        currentQuestionIndex = 0;
        score = 0;
        questionContainerElem.style.display = 'block';
        controlsElem.style.display = 'flex';
        scoreContainerElem.style.display = 'none';
        restartBtn.style.display = 'none';
        loadQuestion();
    });

    loadQuestion();
</script>

</body>
</html>
