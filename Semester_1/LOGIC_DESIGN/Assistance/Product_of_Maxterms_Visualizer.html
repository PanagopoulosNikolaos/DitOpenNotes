<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Product of Maxterms Visualizer: f(x,y,z) = xy + y'z' + xy'z'</title>
<style>
  :root { 
    --bg:#0a0314; --panel:#1a0b2e; --ink:#f1f5f9; --muted:#a78bfa; 
    --accent:#f97316; --hi:#fbbf24; --good:#34d399; --scan:#ec4899; 
    --maxterm:#8b5cf6; --border:#374151;
  }
  body { 
    margin:0; 
    font-family:system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; 
    background: linear-gradient(135deg, var(--bg) 0%, #1e0a3c 100%);
    color:var(--ink); 
    min-height:100vh;
  }
  .wrap { max-width:1200px; margin:0 auto; padding:32px; }
  h1 { 
    font-weight:700; margin:0 0 12px; 
    background: linear-gradient(135deg, #f97316 0%, #fbbf24 50%, #34d399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-size: 2.5rem;
  }
  .subtitle { color:var(--muted); margin-bottom:24px; font-size:1.1rem; }
  .grid { display:grid; grid-template-columns: 1.3fr 0.7fr; gap:24px; align-items:start; }
  .card { 
    background: linear-gradient(145deg, var(--panel) 0%, rgba(139, 92, 246, 0.05) 100%);
    border:2px solid rgba(139, 92, 246, 0.2); 
    border-radius:16px; 
    padding:20px; 
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 32px rgba(139, 92, 246, 0.1);
  }
  .controls { 
    display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-bottom:16px;
    padding:12px;
    background:rgba(139, 92, 246, 0.1);
    border-radius:12px;
  }
  button { 
    background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
    color:white; 
    border:none; 
    padding:10px 16px; 
    border-radius:10px; 
    cursor:pointer; 
    font-weight:600;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
  }
  button:hover { 
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(124, 58, 237, 0.6);
  }
  button.primary { 
    background: linear-gradient(135deg, #f97316 0%, #fbbf24 100%);
    box-shadow: 0 4px 15px rgba(249, 115, 22, 0.4);
  }
  button.primary:hover {
    box-shadow: 0 6px 20px rgba(249, 115, 22, 0.6);
  }
  .status { color:var(--good); margin-left:auto; font-weight:500; }
  select { 
    background:var(--panel); 
    color:var(--ink); 
    border:1px solid var(--maxterm); 
    padding:6px 10px; 
    border-radius:6px; 
    margin-left:8px;
  }
  table { width:100%; border-collapse:collapse; border-radius:12px; overflow:hidden; }
  th, td { text-align:center; padding:12px; border-bottom:2px solid rgba(139, 92, 246, 0.2); }
  th { 
    color:#fbbf24; 
    font-weight:700; 
    position:sticky; 
    top:0; 
    background: linear-gradient(135deg, var(--panel) 0%, rgba(139, 92, 246, 0.2) 100%);
    text-shadow: 0 2px 4px rgba(0,0,0,0.5);
  }
  tr.maxterm { 
    background: linear-gradient(90deg, rgba(139, 92, 246, 0.15) 0%, rgba(236, 72, 153, 0.1) 100%);
    border-left: 4px solid var(--maxterm);
  }
  tr.scan { 
    outline:3px solid var(--scan); 
    outline-offset:-3px;
    background: linear-gradient(90deg, rgba(236, 72, 153, 0.2) 0%, rgba(236, 72, 153, 0.05) 100%);
    animation: pulse 1s infinite;
  }
  @keyframes pulse {
    0%, 100% { box-shadow: 0 0 20px rgba(236, 72, 153, 0.4); }
    50% { box-shadow: 0 0 30px rgba(236, 72, 153, 0.8); }
  }
  .legend { 
    display:flex; gap:16px; flex-wrap:wrap; color:var(--muted); font-size:14px; margin-top:12px;
    padding:10px;
    background:rgba(139, 92, 246, 0.05);
    border-radius:10px;
  }
  .chip { 
    display:inline-flex; align-items:center; gap:8px; 
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(139, 92, 246, 0.05) 100%);
    border:1px solid rgba(139, 92, 246, 0.3); 
    border-radius:999px; 
    padding:6px 12px; 
    font-weight:500;
  }
  .dot { width:12px; height:12px; border-radius:50%; display:inline-block; }
  .dot-scan { background: linear-gradient(135deg, var(--scan) 0%, #f472b6 100%); }
  .dot-max { background: linear-gradient(135deg, var(--maxterm) 0%, #a855f7 100%); }
  .code { 
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; 
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
    border:2px solid rgba(139, 92, 246, 0.3); 
    border-radius:10px; 
    padding:12px 14px; 
    display:inline-block;
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.1);
  }
  .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  .list { margin:0; padding-left:20px; }
  .list li { 
    margin:8px 0; 
    padding:8px;
    background:rgba(139, 92, 246, 0.1);
    border-radius:8px;
    border-left:4px solid var(--maxterm);
  }
  .pill { 
    display:inline-block; 
    padding:8px 16px; 
    border-radius:999px; 
    border:2px solid rgba(139, 92, 246, 0.3); 
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
    font-weight:600;
  }
  .flexcol { display:flex; flex-direction:column; gap:16px; }
  .muted { color:var(--muted); }
  .big { 
    font-size:1.3rem; 
    font-weight:700;
    background: linear-gradient(135deg, #f97316 0%, #fbbf24 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  @media (max-width: 1000px) {
    .grid { grid-template-columns: 1fr; }
    h1 { font-size: 2rem; }
  }
</style>
</head>
<body>
  <div class="wrap">
    <h1>Product of Maxterms Visualizer</h1>
    <div class="subtitle">
      Function: <span class="code">f(x,y,z) = x·y + y'·z' + x·y'·z'</span> → Finding rows where <strong>f = 0</strong>
    </div>

    <div class="grid">
      <div class="card">
        <div class="controls">
          <button id="play" class="primary">▶ Play</button>
          <button id="pause">⏸ Pause</button>
          <button id="reset">↺ Reset</button>
          <label class="muted">
            Speed:
            <select id="speed">
              <option value="1200">Very Slow</option>
              <option value="800" selected>Slow</option>
              <option value="500">Normal</option>
              <option value="250">Fast</option>
            </select>
          </label>
          <div class="status" id="status">Ready to scan for f=0 rows</div>
        </div>

        <table id="tt">
          <thead>
            <tr><th>x</th><th>y</th><th>z</th><th>f(x,y,z)</th><th>index</th></tr>
          </thead>
          <tbody id="tt-body"></tbody>
        </table>

        <div class="legend">
          <span class="chip"><span class="dot dot-scan"></span> currently scanning</span>
          <span class="chip"><span class="dot dot-max"></span> f=0 row (maxterm)</span>
        </div>
      </div>

      <div class="card flexcol">
        <div>
          <div class="big">Discovered 0-maxterms</div>
          <div class="muted">Added when a scanned row has f=0</div>
          <ol id="maxterm-list" class="list"></ol>
        </div>

        <div>
          <div class="big">Pi notation</div>
          <div id="pi" class="mono pill">f(x,y,z) = ∏( )</div>
        </div>

        <div>
          <div class="big">Canonical Product of Maxterms (expanded)</div>
          <div id="expanded" class="code">f(x,y,z) = </div>
          <div class="muted">Canonical PoS lists all 0-maxterms; it is not simplified.</div>
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  // Evaluate f(x,y,z) = xy + y'z' + xy'z'
  function f(x,y,z){
    return (x && y) || ((!y) && (!z)) || (x && (!y) && (!z));
  }
  // Decimal index with x as MSB: index = 4x + 2y + z
  function idx(x,y,z){ return (x<<2) | (y<<1) | z; }
  // Maxterm string like (x + y + z')
  function maxtermStr(x,y,z){
    // For maxterms: if variable is 0, use uncomplemented; if 1, use complemented
    const sx = x === 0 ? "x" : "x'";
    const sy = y === 0 ? "y" : "y'";
    const sz = z === 0 ? "z" : "z'";
    return `(${sx} + ${sy} + ${sz})`;
  }

  // Build data for all 8 combinations
  const rows = [];
  for(let x=0;x<=1;x++){
    for(let y=0;y<=1;y++){
      for(let z=0;z<=1;z++){
        const val = f(x,y,z) ? 1 : 0;
        rows.push({
          x,y,z,
          f: val,
          index: idx(x,y,z),
          term: maxtermStr(x,y,z)
        });
      }
    }
  }
  // Sort by index to show 000..111
  rows.sort((a,b)=>a.index-b.index);

  // Render truth table
  const tbody = document.getElementById("tt-body");
  rows.forEach((r,i)=>{
    const tr = document.createElement("tr");
    tr.id = "row-"+i;
    tr.innerHTML = `<td>${r.x}</td><td>${r.y}</td><td>${r.z}</td><td>${r.f}</td><td>${r.index}</td>`;
    tbody.appendChild(tr);
  });

  const playBtn = document.getElementById("play");
  const pauseBtn = document.getElementById("pause");
  const resetBtn = document.getElementById("reset");
  const speedSel = document.getElementById("speed");
  const status = document.getElementById("status");
  const list = document.getElementById("maxterm-list");
  const pi = document.getElementById("pi");
  const expanded = document.getElementById("expanded");

  let i = 0, timer = null, done = false;
  const foundIdx = [];
  const foundTerms = [];

  function updatePi(){
    pi.textContent = `f(x,y,z) = ∏(${foundIdx.join(", ")})`;
  }
  function updateExpanded(){
    expanded.textContent = `f(x,y,z) = ${foundTerms.join(" · ")}`;
  }
  function clearScanClasses(){
    rows.forEach((_,k)=>{
      const rowEl = document.getElementById("row-"+k);
      rowEl.classList.remove("scan");
    });
  }
  function markRowKinds(){
    rows.forEach((r,k)=>{
      const rowEl = document.getElementById("row-"+k);
      rowEl.classList.toggle("maxterm", r.f===0);
    });
  }
  function resetUI(){
    if (timer) { clearInterval(timer); timer = null; }
    i = 0; done = false;
    foundIdx.length = 0;
    foundTerms.length = 0;
    list.innerHTML = "";
    clearScanClasses();
    rows.forEach((_,k)=>{
      const rowEl = document.getElementById("row-"+k);
      rowEl.classList.remove("maxterm");
    });
    updatePi();
    updateExpanded();
    status.textContent = "Ready to scan for f=0 rows";
  }

  function step(){
    clearScanClasses();
    if (i >= rows.length){
      done = true;
      status.textContent = "Done: canonical Product of Maxterms built";
      if (timer) { clearInterval(timer); timer = null; }
      return;
    }
    const r = rows[i];
    const rowEl = document.getElementById("row-"+i);
    rowEl.classList.add("scan");
    status.textContent = `Scanning row ${i} (x=${r.x}, y=${r.y}, z=${r.z}) → f=${r.f}`;
    if (r.f === 0){
      // mark maxterm
      rowEl.classList.add("maxterm");
      if (!foundIdx.includes(r.index)){
        foundIdx.push(r.index);
        foundTerms.push(r.term);
        // Append to list
        const li = document.createElement("li");
        li.className = "mono";
        li.textContent = `M${r.index} = ${r.term}`;
        list.appendChild(li);
        updatePi();
        updateExpanded();
      }
    }
    i++;
  }

  // Initialize static highlights of f=0 rows
  markRowKinds();
  updatePi();
  updateExpanded();

  playBtn.addEventListener("click", ()=>{
    if (done) return;
    if (timer) return;
    const delay = parseInt(speedSel.value,10);
    status.textContent = "Playing…";
    timer = setInterval(step, delay);
  });
  pauseBtn.addEventListener("click", ()=>{
    if (timer){ clearInterval(timer); timer = null; status.textContent = "Paused"; }
  });
  resetBtn.addEventListener("click", resetUI);
})();
</script>
</body>
</html>
